<script>

    export let animating = false;

</script>

<div class={$$props.class + " svgsContainer" + ((animating)? ' animating' : '')} style={$$props.style}>
    <svg class="layer0" width="142" height="111" viewBox="0 0 142 111" fill="none" xmlns="http://www.w3.org/2000/svg">
        <g>
            <path d="M24.384 41.1716C34.9409 30.1181 49.2179 25.3809 66.6202 25.3809C73.8152 25.3809 79.8383 27.2979 85.8509 29.2272L86.0941 29.3053C93.7709 31.7693 101.633 34.2926 110.917 31.2973C118.508 28.8484 126.742 22.8303 136.738 10.9755C134.833 18.773 132.095 29.803 129.131 41.1716H24.384ZM3.78625 88.1716H114.846C111.473 94.751 108.121 99.8093 104.137 103.236C100.209 106.614 95.5628 108.496 89.3541 108.496C86.2067 108.496 79.194 107.577 70.2303 106.027C61.3498 104.492 50.7656 102.375 40.6036 100.057C30.4301 97.737 20.7358 95.2274 13.613 92.9104C10.0366 91.747 7.20148 90.6617 5.29784 89.7074C4.53102 89.323 3.98967 88.9961 3.63413 88.7375C3.68477 88.5489 3.73548 88.3603 3.78625 88.1716ZM3.20627 88.3655C3.20799 88.3656 3.22081 88.3792 3.23964 88.4065C3.21395 88.3791 3.20455 88.3655 3.20627 88.3655ZM120.542 72.1716H8.28751C9.02885 69.695 9.72832 67.4657 10.3586 65.6046C11.3765 62.5985 12.4978 59.7906 13.7171 57.1716H124.853C123.376 62.5318 121.916 67.6413 120.542 72.1716Z" stroke="#F36BFA" stroke-width="5"/>
        </g>
    </svg>
    <svg class="layer1" width="142" height="111" viewBox="0 0 142 111" fill="none" xmlns="http://www.w3.org/2000/svg">
        <g>
            <path d="M24.384 41.1716C34.9409 30.1181 49.2179 25.3809 66.6202 25.3809C73.8152 25.3809 79.8383 27.2979 85.8509 29.2272L86.0941 29.3053C93.7709 31.7693 101.633 34.2926 110.917 31.2973C118.508 28.8484 126.742 22.8303 136.738 10.9755C134.833 18.773 132.095 29.803 129.131 41.1716H24.384ZM3.78625 88.1716H114.846C111.473 94.751 108.121 99.8093 104.137 103.236C100.209 106.614 95.5628 108.496 89.3541 108.496C86.2067 108.496 79.194 107.577 70.2303 106.027C61.3498 104.492 50.7656 102.375 40.6036 100.057C30.4301 97.737 20.7358 95.2274 13.613 92.9104C10.0366 91.747 7.20148 90.6617 5.29784 89.7074C4.53102 89.323 3.98967 88.9961 3.63413 88.7375C3.68477 88.5489 3.73548 88.3603 3.78625 88.1716ZM3.20627 88.3655C3.20799 88.3656 3.22081 88.3792 3.23964 88.4065C3.21395 88.3791 3.20455 88.3655 3.20627 88.3655ZM120.542 72.1716H8.28751C9.02885 69.695 9.72832 67.4657 10.3586 65.6046C11.3765 62.5985 12.4978 59.7906 13.7171 57.1716H124.853C123.376 62.5318 121.916 67.6413 120.542 72.1716Z" fill="#FAC9FD"/>
            <path d="M24.384 41.1716C34.9409 30.1181 49.2179 25.3809 66.6202 25.3809C73.8152 25.3809 79.8383 27.2979 85.8509 29.2272L86.0941 29.3053C93.7709 31.7693 101.633 34.2926 110.917 31.2973C118.508 28.8484 126.742 22.8303 136.738 10.9755C134.833 18.773 132.095 29.803 129.131 41.1716H24.384ZM3.78625 88.1716H114.846C111.473 94.751 108.121 99.8093 104.137 103.236C100.209 106.614 95.5628 108.496 89.3541 108.496C86.2067 108.496 79.194 107.577 70.2303 106.027C61.3498 104.492 50.7656 102.375 40.6036 100.057C30.4301 97.737 20.7358 95.2274 13.613 92.9104C10.0366 91.747 7.20148 90.6617 5.29784 89.7074C4.53102 89.323 3.98967 88.9961 3.63413 88.7375C3.68477 88.5489 3.73548 88.3603 3.78625 88.1716ZM3.20627 88.3655C3.20799 88.3656 3.22081 88.3792 3.23964 88.4065C3.21395 88.3791 3.20455 88.3655 3.20627 88.3655ZM120.542 72.1716H8.28751C9.02885 69.695 9.72832 67.4657 10.3586 65.6046C11.3765 62.5985 12.4978 59.7906 13.7171 57.1716H124.853C123.376 62.5318 121.916 67.6413 120.542 72.1716Z" fill="black" fill-opacity="0.08"/>
            <path d="M24.384 41.1716C34.9409 30.1181 49.2179 25.3809 66.6202 25.3809C73.8152 25.3809 79.8383 27.2979 85.8509 29.2272L86.0941 29.3053C93.7709 31.7693 101.633 34.2926 110.917 31.2973C118.508 28.8484 126.742 22.8303 136.738 10.9755C134.833 18.773 132.095 29.803 129.131 41.1716H24.384ZM3.78625 88.1716H114.846C111.473 94.751 108.121 99.8093 104.137 103.236C100.209 106.614 95.5628 108.496 89.3541 108.496C86.2067 108.496 79.194 107.577 70.2303 106.027C61.3498 104.492 50.7656 102.375 40.6036 100.057C30.4301 97.737 20.7358 95.2274 13.613 92.9104C10.0366 91.747 7.20148 90.6617 5.29784 89.7074C4.53102 89.323 3.98967 88.9961 3.63413 88.7375C3.68477 88.5489 3.73548 88.3603 3.78625 88.1716ZM3.20627 88.3655C3.20799 88.3656 3.22081 88.3792 3.23964 88.4065C3.21395 88.3791 3.20455 88.3655 3.20627 88.3655ZM120.542 72.1716H8.28751C9.02885 69.695 9.72832 67.4657 10.3586 65.6046C11.3765 62.5985 12.4978 59.7906 13.7171 57.1716H124.853C123.376 62.5318 121.916 67.6413 120.542 72.1716Z" stroke="#F36BFA" stroke-width="5"/>
        </g>
    </svg>
    <svg class="layer2" width="142" height="111" viewBox="0 0 142 111" fill="none" xmlns="http://www.w3.org/2000/svg">
        <g>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M117.155 89.1486C117.614 88.25 118.121 87.0775 118.669 85.6716H1.87206C1.55789 86.8299 1.24521 87.9915 0.93573 89.1486C0.935734 95.6092 75.7614 110.996 89.3541 110.996C102.947 110.996 110.262 102.64 117.155 89.1486ZM4.9456 74.6716H122.392C124.195 68.8341 126.161 61.909 128.129 54.6716H12.142C10.6099 57.7876 9.22399 61.1606 7.99064 64.8028C7.08216 67.4856 6.04065 70.8942 4.9456 74.6716ZM141.85 0.446777C141.85 0.446777 141.832 0.523207 141.797 0.671631C141.244 2.99955 136.469 23.0378 131.062 43.6716H18.9415C30.3468 28.957 46.6894 22.8809 66.6202 22.8809C74.2556 22.8809 80.625 24.9248 86.6148 26.8468C102.282 31.8741 115.351 36.0678 141.683 0.671631C141.739 0.596857 141.795 0.521905 141.85 0.446777Z" fill="#FAC9FD"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M117.155 89.1486C117.614 88.25 118.121 87.0775 118.669 85.6716H1.87206C1.55789 86.8299 1.24521 87.9915 0.93573 89.1486C0.935734 95.6092 75.7614 110.996 89.3541 110.996C102.947 110.996 110.262 102.64 117.155 89.1486ZM4.9456 74.6716H122.392C124.195 68.8341 126.161 61.909 128.129 54.6716H12.142C10.6099 57.7876 9.22399 61.1606 7.99064 64.8028C7.08216 67.4856 6.04065 70.8942 4.9456 74.6716ZM141.85 0.446777C141.85 0.446777 141.832 0.523207 141.797 0.671631C141.244 2.99955 136.469 23.0378 131.062 43.6716H18.9415C30.3468 28.957 46.6894 22.8809 66.6202 22.8809C74.2556 22.8809 80.625 24.9248 86.6148 26.8468C102.282 31.8741 115.351 36.0678 141.683 0.671631C141.739 0.596857 141.795 0.521905 141.85 0.446777Z" fill="black" fill-opacity="0.04"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M118.669 85.6716H1.87206C1.55789 86.8299 1.24521 87.9915 0.93573 89.1486C0.935734 95.6092 75.7614 110.996 89.3541 110.996C102.947 110.996 110.262 102.64 117.155 89.1486C117.614 88.25 118.121 87.0775 118.669 85.6716Z" fill="#FAC9FD"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M118.669 85.6716H1.87206C1.55789 86.8299 1.24521 87.9915 0.93573 89.1486C0.935734 95.6092 75.7614 110.996 89.3541 110.996C102.947 110.996 110.262 102.64 117.155 89.1486C117.614 88.25 118.121 87.0775 118.669 85.6716Z" fill="black" fill-opacity="0.04"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M141.683 0.671631H141.797C141.244 2.99955 136.469 23.0378 131.062 43.6716H18.9415C30.3468 28.957 46.6894 22.8809 66.6202 22.8809C74.2556 22.8809 80.625 24.9248 86.6148 26.8468C102.282 31.8741 115.351 36.0678 141.683 0.671631Z" fill="#FAC9FD"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M141.683 0.671631H141.797C141.244 2.99955 136.469 23.0378 131.062 43.6716H18.9415C30.3468 28.957 46.6894 22.8809 66.6202 22.8809C74.2556 22.8809 80.625 24.9248 86.6148 26.8468C102.282 31.8741 115.351 36.0678 141.683 0.671631Z" fill="black" fill-opacity="0.04"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M12.142 54.6716H128.129C126.161 61.909 124.195 68.8341 122.392 74.6716H4.9456C6.04065 70.8942 7.08216 67.4856 7.99064 64.8028C9.22399 61.1606 10.6099 57.7876 12.142 54.6716Z" fill="#FAC9FD"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M12.142 54.6716H128.129C126.161 61.909 124.195 68.8341 122.392 74.6716H4.9456C6.04065 70.8942 7.08216 67.4856 7.99064 64.8028C9.22399 61.1606 10.6099 57.7876 12.142 54.6716Z" fill="black" fill-opacity="0.04"/>
        </g>
    </svg>
</div>

<style lang="scss">
    
    .svgsContainer {
        --layerOffset: 40px;
        --layer1Position: calc(0% - var(--layerOffset));
        --layer2Position: 0%;
        --allOffset: -100%;
        --animationHover: none;
        overflow: hidden;
        position: relative;

        &>* {
            height: 100%;
            width: 100%;
            position: absolute;
            top: 0;
            left: 0;

            &:first-child { position: relative; }
        }
    }
    
    .animating {
        svg {

            transition: 
                mask var(--animatingClassAnimationDuration) ease-out, 
                -webkit-mask var(--animatingClassAnimationDuration) ease-out;
            
            &.layer1 *, &.layer2 * { 
                transition: fill calc(var(--animatingClassAnimationDuration) / 2) ease-out; 
                fill: var(--color2); 
            }

            &.layer1 {
                mask-position: calc(var(--layer1Position) + var(--allOffset));
                -webkit-mask-position: calc(var(--layer1Position) + var(--allOffset));
            }
            
            &.layer2 {
                mask-position: calc(var(--layer1Position) + (var(--allOffset)));
                -webkit-mask-position: calc(var(--layer1Position) + (var(--allOffset)));
            }
        }
    }
    
    .layer1, .layer2 {
        mask-image: linear-gradient(to right, transparent 50%, black calc(50% + 1px));
        -webkit-mask-image: linear-gradient(to right, transparent 50%, black calc(50% + 1px));

        mask-size: calc(200% + (var(--layerOffset) * 2));
        -webkit-mask-size: calc(200% + (var(--layerOffset) * 2));

        transition: 
            mask .4s ease-in-out, 
            -webkit-mask .4s ease-in-out;
        
        &.layer1 {
            * { fill: var(--color7); }

            mask-position: var(--layer1Position);
            -webkit-mask-position: var(--layer1Position);
        }
        
        &.layer2 {
            mask-position: var(--layer2Position);
            -webkit-mask-position: var(--layer2Position);
        }
    }
    
    .svgsContainer:hover {
        .layer1 {
            --layer1Position: 100%;
        }
        
        .layer2 {
            --layer2Position: calc(100% + var(--layerOffset));
        }
    }

</style>